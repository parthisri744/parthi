<!DOCTYPE html>
<html>
<head>
<title>Facebook Login JavaScript Example</title>
<meta charset="UTF-8">
<link rel="stylesheet" href="https://bootswatch.com/4/darkly/bootstrap.min.css">
<style>
  #log-out {
      background: #4267b2;
      font-size: larger;
      border-radius:2px;
      color: white;
      height: 30px;
      text-align: center;
      width: 120px;
      float: right;
  }
 .card {
   background-color: beige;
 }
</style>
</head>
<body>
  <div id="fb-root"></div>
  <script>

  function statusChangeCallback(response) {  // Called with the results from FB.getLoginStatus().
    console.log('statusChangeCallback');
    console.log(response);                   // The current login status of the person.
    if (response.status === 'connected') {   // Logged into your webpage and Facebook.
      testAPI();  
      document.getElementById("fb-btn").style.display = "none";
      document.getElementById("log-out").style.display = "block";
      document.getElementById("outhead").style.display = "none";   
      document.getElementById("inhead").style.display = "block";
      document.getElementById("profile").style.display = "block";   
   


      } else {                                 // Not logged into your webpage or we are unable to tell.
      document.getElementById("fb-btn").style.display = "block";
      document.getElementById("log-out").style.display = "none";   
      document.getElementById("outhead").style.display = "block";   
      document.getElementById("inhead").style.display = "none";  
      document.getElementById("profile").style.display = "none";   
 


    }
  }


  function checkLoginState() {               // Called when a person is finished with the Login Button.
    FB.getLoginStatus(function(response) {   // See the onlogin handler
      statusChangeCallback(response);
    });
  }


  window.fbAsyncInit = function() {
    FB.init({
      appId      : '2017748631692514',
      cookie     : true,                     // Enable cookies to allow the server to access the session.
      xfbml      : true,                     // Parse social plugins on this webpage.
      version    : 'v7.0'           // Use this Graph API version for this call.
    });


    FB.getLoginStatus(function(response) {   // Called after the JS SDK has been initialized.
      statusChangeCallback(response);        // Returns the login status.
    });
  };
 
  function testAPI() {                      // Testing Graph API after login.  See statusChangeCallback() for when this call is made.
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me?fields=name,id,email'/*,birthday,location */, function(response) {
      console.log('Successful login for: ' + response.name);
      console.log(response);
      document.getElementById("inhead").innerHTML= "Welcome ! "+response.name;
  /*   let profile =`
      <h3>${response.name}</h3>
      <u1 class = "list-group">-
        <li class = "list-group-item"> User ID : ${response.id}</li>
        <li class = "list-group-item"> Email : ${response.email}</li>
        <li class = "list-group-item"> Birthday : ${response.birthday}</li>
        <li class = "list-group-item"> Location : ${response.location.name}</li>

      </ul>
      `;
      document.getElementById("profile").innerHTML = profile;   */
    });
  }
  function logout() {
    FB.logout(function(response) {
       statusChangeCallback(response);
       testAPI(false);

    }); 
  }  
   
</script>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <h1>Parthisri</h1>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item">
         
        </li>
        <li class="nav-item">
      <button  id="log-out" onclick="logout()">Logout</button>
      <fb:login-button id="fb-btn" size="xlarge"
      scope="public_profile,email"
      onlogin="checkLoginState();">
       </fb:login-button> 
    <!-- <div id="fb-btn" class="fb-login-button" data-size="large" data-button-type="continue_with" data-layout="rounded"
      data-auto-logout-link="false" data-use-continue-as="true" data-width=""></div>--> 
        </li>
      </ul>
    </div>
  </nav>
  <div align="center" class="container-fluid">
  <h1 id="outhead">Login in to view your profile </h>
    <h2 id="inhead"></h2>
    <div id="profile">
    
    </div>
  </div>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap J</body>

      
  
<!-- The JS SDK Login Button -->

<script>
  document.cookie = "AC-C=ac-c;expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/;SameSite=Lax";
</script>
<!-- Load the JS SDK asynchronously -->
<script async defer crossorigin="anonymous"
 src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v7.0&appId=2017748631692514&autoLogAppEvents=1"
   nonce="EAmdvjwf"></script>
   <script async defer crossorigin="anonymous"
    src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v7.0&appId=2017748631692514&autoLogAppEvents=1"
     nonce="5xxVthJb"></script>
</body>
<div class="card">
  <div class="card-body">
    <div class="fb-like" data-href="https://developers.facebook.com/docs/plugins/" 
    data-width="" data-layout="standard" data-action="like" data-size="large" data-share="true"></div>
  </div>
</div>
</html>